# Bybit V5 Enhanced Trading System

Этот репозиторий содержит продвинутую систему для копитрейдинга на Bybit, использующую API v5. Система спроектирована для высокой производительности, надежности и отказоустойчивости.

## Ключевые компоненты

- **`enhanced_trading_system_final_fixed.py`**: Основной файл, управляющий всей логикой, включая API-клиенты, WebSocket-менеджер и обработку сигналов.
- **`stage2_copy_system.py`**: Ядро системы копирования, которое обрабатывает сигналы и исполняет ордера.
- **`config.py`**: Управление конфигурацией, ключами API и конечными точками.
- **`app/`**: Вспомогательные модули, включая логирование, работу с базой данных и хранение состояний.

## Основные возможности

- **Надежное WebSocket-соединение**: Использует кастомный механизм heartbeat и автоматическое переподключение для стабильной работы с приватными каналами Bybit (`position`, `wallet`, `execution`, `order`).
- **REST-сверка (Reconciliation)**: При запуске система автоматически сверяет позиции между донорским и основным аккаунтами и выставляет сигналы на выравнивание, если обнаруживает расхождения.
- **Промышленное логирование**: Встроенная система логирования с ротацией файлов, различными уровнями детализации и возможностью вывода в JSON-формате для дальнейшего анализа.
- **Отказоустойчивость**: Реализованы паттерны, такие как Circuit Breaker и Exponential Backoff, для умной обработки сетевых ошибок и проблем с API.
- **Мониторинг**: Включает в себя мониторинг состояния соединений и системных метрик (CPU, память).

## Ссылка на документацию

Для получения подробной информации о работе с WebSocket API v5 от Bybit, обратитесь к официальной документации:

[**Bybit V5 WebSocket API Documentation**](https://bybit-exchange.github.io/docs/v5/ws/connect)

Этот документ является ключевым для понимания логики аутентификации, подписок и форматов сообщений.
